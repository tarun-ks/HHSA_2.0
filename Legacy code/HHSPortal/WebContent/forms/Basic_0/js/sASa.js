function AlertObject(name, id, type, value,elementId){this.name = name ; this.type = type ;this.value = value ;this.id = id ;this.elementId = elementId ;}var arr = new Array() ;arr[arr.length] = arr['textboxElt11337346065019dIi15v_textbox']= [new AlertObject('alert1','alert1','nm',' ','textboxElt11337346065019dIi15v_textbox'),new AlertObject('alert2','alert2','ro','Please enter alphanumeric value for Employer Identification Number/Tax Identification Number','textboxElt11337346065019dIi15v_textbox')];arr[arr.length] = arr['errorIndElt1345878383136dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt1345878383136dIi15v_errorInd')];arr[arr.length] = arr['errorIndElt11345878318515dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt11345878318515dIi15v_errorInd')];arr[arr.length] = arr['textboxElt21337346301590dIi15v_textbox']= [new AlertObject('alert1','alert1','m','! This field is required.','textboxElt21337346301590dIi15v_textbox'),new AlertObject('alert2','alert2','a','! This field is required.','textboxElt21337346301590dIi15v_textbox')];arr[arr.length] = arr['errorIndElt1345878374481dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt1345878374481dIi15v_errorInd')];arr[arr.length] = arr['dropdownElt11337346065017dIi15v_select']= [new AlertObject('alert1','alert1','m','! This field is required.','dropdownElt11337346065017dIi15v_select')];arr[arr.length] = arr['dropdownElt1341669712592dIi15v_select']= [new AlertObject('alert1','alert1','m','! This field is required.','dropdownElt1341669712592dIi15v_select')];arr[arr.length] = arr['errorIndElt1345878384403dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt1345878384403dIi15v_errorInd')];arr[arr.length] = arr['textareaElt1341670227764dIi15v_textarea']= [new AlertObject('alert1','alert1','m','! This field is required.','textareaElt1341670227764dIi15v_textarea')];arr[arr.length] = arr['errorIndElt1345878383922dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt1345878383922dIi15v_errorInd')];arr[arr.length] = arr['errorIndElt1345878374896dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt1345878374896dIi15v_errorInd')];arr[arr.length] = arr['textboxElt1337346326246dIi15v_textbox']= [new AlertObject('alert1','alert1','nm','! This field is required.','textboxElt1337346326246dIi15v_textbox'),new AlertObject('alert2','alert2','i','Please enter numeric only','textboxElt1337346326246dIi15v_textbox')];arr[arr.length] = arr['errorIndElt1345878375080dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt1345878375080dIi15v_errorInd')];arr[arr.length] = arr['textboxElt1337346330548dIi15v_textbox']= [new AlertObject('alert1','alert1','nm','! This field is required.','textboxElt1337346330548dIi15v_textbox'),new AlertObject('alert2','alert2','a','Please enter DBA','textboxElt1337346330548dIi15v_textbox')];arr[arr.length] = arr['dropdownElt21337346321480dIi15v_select']= [new AlertObject('alert1','alert1','m','! This field is required.','dropdownElt21337346321480dIi15v_select')];arr[arr.length] = arr['dropdownElt1337348257397dIi15v_select']= [new AlertObject('alert1','alert1','m','! This field is required.','dropdownElt1337348257397dIi15v_select')];arr[arr.length] = arr['errorIndElt1345878375285dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt1345878375285dIi15v_errorInd')];arr[arr.length] = arr['textareaElt11337346065018dIi15v_textarea']= [new AlertObject('alert1','alert1','m','! This field is required.','textareaElt11337346065018dIi15v_textarea')];arr[arr.length] = arr['errorIndElt1345878375455dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt1345878375455dIi15v_errorInd')];arr[arr.length] = arr['errorIndElt1345878375779dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt1345878375779dIi15v_errorInd')];arr[arr.length] = arr['textboxElt21337346309312dIi15v_textbox']= [new AlertObject('alert1','alert1','m','! This field is required.','textboxElt21337346309312dIi15v_textbox'),new AlertObject('alert2','alert2','a','Please enter alpha numeric','textboxElt21337346309312dIi15v_textbox')];arr[arr.length] = arr['errorIndElt1345878375900dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt1345878375900dIi15v_errorInd')];arr[arr.length] = arr['textboxElt1337346384229dIi15v_textbox']= [new AlertObject('alert1','alert1','nm','Please enter alpha numeric','textboxElt1337346384229dIi15v_textbox'),new AlertObject('alert2','alert2','a','! Please enter alpha numeric','textboxElt1337346384229dIi15v_textbox')];arr[arr.length] = arr['errorIndElt1345878377057dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt1345878377057dIi15v_errorInd')];arr[arr.length] = arr['textboxElt1337346389580dIi15v_textbox']= [new AlertObject('alert1','alert1','m','! This field is required.','textboxElt1337346389580dIi15v_textbox'),new AlertObject('alert2','alert2','a','Please enter string only','textboxElt1337346389580dIi15v_textbox')];arr[arr.length] = arr['errorIndElt1345878377598dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt1345878377598dIi15v_errorInd')];arr[arr.length] = arr['dropdownElt1337346399794dIi15v_select']= [new AlertObject('alert1','alert1','m','! This field is required.','dropdownElt1337346399794dIi15v_select')];arr[arr.length] = arr['errorIndElt1345878377662dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt1345878377662dIi15v_errorInd')];arr[arr.length] = arr['textboxElt1337346406216dIi15v_textbox']= [new AlertObject('alert1','alert1','m','! This field is required.','textboxElt1337346406216dIi15v_textbox'),new AlertObject('alert2','alert2','i','Please enter number only','textboxElt1337346406216dIi15v_textbox')];arr[arr.length] = arr['errorIndElt1345878988664dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt1345878988664dIi15v_errorInd')];arr[arr.length] = arr['textboxElt1337346411639dIi15v_textbox']= [new AlertObject('alert1','alert1','m','! This field is required.','textboxElt1337346411639dIi15v_textbox'),new AlertObject('alert2','alert2','a','Please enter numeric only','textboxElt1337346411639dIi15v_textbox')];arr[arr.length] = arr['textboxElt1337346418718dIi15v_textbox']= [new AlertObject('alert1','alert1','nm',' ','textboxElt1337346418718dIi15v_textbox'),new AlertObject('alert2','alert2','a','Please enter alpha numeric only','textboxElt1337346418718dIi15v_textbox')];arr[arr.length] = arr['errorIndElt1345878994170dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt1345878994170dIi15v_errorInd')];arr[arr.length] = arr['checkboxElt11337346438773dIi15v_checkbox']= [new AlertObject('alert1','alert1','nm','! This field is required.','checkboxElt11337346438773dIi15v_checkbox')];arr[arr.length] = arr['checkboxElt1337346486175dIi15v_checkbox']= [new AlertObject('alert1','alert1','nm','value','checkboxElt1337346486175dIi15v_checkbox')];arr[arr.length] = arr['errorIndElt1346067730744dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt1346067730744dIi15v_errorInd')];arr[arr.length] = arr['checkboxElt1337346487553dIi15v_checkbox']= [new AlertObject('alert1','alert1','nm','value','checkboxElt1337346487553dIi15v_checkbox')];arr[arr.length] = arr['checkboxElt1337346494035dIi15v_checkbox']= [new AlertObject('alert1','alert1','nm','value','checkboxElt1337346494035dIi15v_checkbox')];arr[arr.length] = arr['errorIndElt1345878994942dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt1345878994942dIi15v_errorInd')];arr[arr.length] = arr['textboxElt1337346501774dIi15v_textbox']= [new AlertObject('alert1','alert1','m','! This field is required.','textboxElt1337346501774dIi15v_textbox'),new AlertObject('alert2','alert2','a','Please enter alpha numeric only','textboxElt1337346501774dIi15v_textbox')];arr[arr.length] = arr['errorIndElt1345878996909dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt1345878996909dIi15v_errorInd')];arr[arr.length] = arr['textboxElt1337346504433dIi15v_textbox']= [new AlertObject('alert1','alert1','m','! This field is required.','textboxElt1337346504433dIi15v_textbox'),new AlertObject('alert2','alert2','a','Please enter alpha numeric only','textboxElt1337346504433dIi15v_textbox')];arr[arr.length] = arr['errorIndElt1345878378003dIi15v_errorInd']= [new AlertObject('alert1','alert1',' ',' ','errorIndElt1345878378003dIi15v_errorInd')];arr[arr.length] = arr['textboxElt1341673421359dIi15v_textbox']= [new AlertObject('alert1','alert1','m','! This field is required.','textboxElt1341673421359dIi15v_textbox'),new AlertObject('alert2','alert2','a','Please enter alpha numeric only','textboxElt1341673421359dIi15v_textbox')];arr[arr.length] = arr['buttonElt11341668163225dIi15v_button']= [new AlertObject('alert1','alert1',' ',' ','buttonElt11341668163225dIi15v_button')];arr[arr.length] = arr['buttonElt11337919586178dIi15v_button']= [new AlertObject('alert1','alert1',' ',' ','buttonElt11337919586178dIi15v_button')];function ExtensionObject(filetype,filesize,fileunit){this.filetype = filetype ;this.filesize= filesize;this.fileunit = fileunit ;}var extArr = new Array() ;var selectBoxNames = new Array('othersm', 'twittersm', 'facebooksm');
var checkBoxNoneName = "nonesm";
var rules = new Array();
function ruleObject(name, value, effectedElementName){
      this.name = name ; 
      this.value = value ;
      this.effName = effectedElementName ;
}

rules[rules.length] = rules['CS'] = new Array(new ruleObject('CS', 'For Profit', 'div_row_q4'));
rules[rules.length] = rules['entityType'] = new Array(new ruleObject('entityType', 'Other', 'div_row_q5'));
rules[rules.length] = rules['twittersm'] = new Array(new ruleObject('twittersm', '', 'div_row_q19'));
rules[rules.length] = rules['facebooksm'] = new Array(new ruleObject('facebooksm', '', 'div_row_q20'));
rules[rules.length] = rules['othersm'] = new Array(new ruleObject('othersm', '', 'div_row_q21'));
var buttonName= null;
var lastData = null;

$(document).ready(function() {
      $("input[name='phoneno']").fieldFormatter("XXX-XXX-XXXX");
      $("input[name='Zipcode']").fieldFormatter("XXXXX");
      $("input[type='button'][id^='buttonElt']").click(function(){
            if($(this).attr("name")!="updateLegalName" && $(this).attr("name")!="updateAccountingPeriod"){
                  if($(this).attr("name") == "save_next" || $(this).attr("name") == "save" ){
                        buttonName = $(this).attr("name");
                        document.Basic.action = actionUrl + '&isAjaxCall=true&next_action=' + buttonName;
                        var options = {
                				success : function(responseText, statusText, xhr) {
                					var $response = $(responseText);
                					var data = $response.contents().find(".overlaycontent");
                					var errorExist = false;
                					$("div[id^='errorIndElt']").each(function(){
                						var errorId = $(this).attr('id');
                						var recievedError = $response.contents().find("#"+errorId).html();
                						if(recievedError!=null && recievedError.length > 0){
                							$(this).html(recievedError);
                							$(this).css("overflow", "visible");
                							errorExist = true;
                						}else{
                  							$(this).html("");
                  						}
                                    });
                					if(!errorExist){
                						validateAddress($("input[name='Address1']").val(), $("input[name='city']").val(), $("select[name='state'] option:selected").val(), $("input[name='Zipcode']").val());
                					}
                				},
                				error : function(xhr, ajaxOptions, thrownError) {
                					showErrorMessagePopup();
									removePageGreyOut();
                				}
                			};
                        $(this.form).ajaxSubmit(options);
                  }
            }
      });
      $("input, select").change(function(){
            var changedNode = $(this);
            checkAndDisplay(changedNode, false);
      });
      $("select, input , textarea").each(function(){
            checkAndDisplay($(this), true);
      });
      $("div[id^='fb_divBl0ck']").each(function(){
            if($(this).children().size() <= 0){
                  $(this).hide();
            }else if($(this).children().size() == 1){
                  $(this).children().each(function(){
                        if($(this).css("display").toLowerCase() == "none"){
                              $(this).parent().hide().find("input, select, textarea").attr("disabled", true);
                        }
                  });
            }
      });
      $("select[name='Frommonth']").change(function(){
          var selectedIndex = $(this).prop("selectedIndex");
          var toSet = selectedIndex - 1;
          if(toSet == 0)
              toSet = 12;
          else if(toSet == -1)
        	  toSet = 0;
          $("select[name='Tomonth'] option").eq(toSet).attr('selected', 'selected');
      });
      $("select[name='Tomonth']").change(function(){
          var selectedIndex = $(this).prop("selectedIndex");
          var toSet = selectedIndex + 1;
          if(toSet == 13)
                toSet = 1;
          else if(toSet == 1)
        	  toSet = 0;
          $("select[name='Frommonth'] option").eq(toSet).attr('selected', 'selected');
      });
      var $form = $("#fb_divBl0ck1").closest('form');
      lastData = $form.serializeArray();
      $("input[name='updateLegalName']").click(function(){
            $("#cancelButton").unbind('click').click(function(){
                  $(".overlay").closeOverlay();
            });
            $(".overlay").launchOverlay($(".alert-boxLegalName"), $(".exit-panel"), "470px");
            $("#currentNameDiv").html($("input[name='OLN']").val());
            $("#currentName").val($("input[name='OLN']").val());
            $("#newLegalNameForm").validate({
                  rules: {
                        newLegalName: {required: true,
                                                maxlength: 100},
                        newLegalNameReason: {required: true,
                                                      maxlength: 250}
                        
                  },
                  messages: {
                        newLegalName: {required: "! This field is required.",
                              maxlength: "Legal name can not exceed more than 100 characters"},
                        newLegalNameReason: {required: "! This field is required.",
                              maxlength: "Reason can not exceed more than 250 characters"} 
                  }
            });
      });
      $("input[name='updateAccountingPeriod']").unbind('click').click(function(){
            $("#cancelButton1").unbind('click').click(function(){
                  $(".overlay").closeOverlay();
            });
            $(".overlay").launchOverlay($(".alert-boxAccountingPeriod"), $(".exit-panel"), "575px");
            var $fromClone = $("select[name='Frommonth']").clone();
            var selectedIndexFrom = $("select[name='Frommonth']").prop("selectedIndex");
            var $toClone = $("select[name='Tomonth']").clone();
            var selectedIndexTo = $("select[name='Tomonth']").prop("selectedIndex");
            $("#oldFrom").html($fromClone.outerHTML()).children().each(function(){
                  $(this).find("option").eq(selectedIndexFrom).attr('selected', 'selected');
                  $(this).attr("disabled", true);
            });
            $("#oldTo").html($toClone.outerHTML()).children().each(function(){
                  $(this).find("option").eq(selectedIndexTo).attr('selected', 'selected');
                  $(this).attr("disabled", true);
            });
            $("#newFrom").html($fromClone.outerHTML()).each(function(){
                  $(this).find("option").eq(0).attr('selected', 'selected');
                  $(this).attr("disabled", false);
            });
            $("#newTo").html($toClone.outerHTML()).each(function(){
                  $(this).find("option").eq(0).attr('selected', 'selected');
                  $(this).attr("disabled", false);
            });
            $("#newFrom>select[name='Frommonth']").change(function(){
                  var selectedIndex = $(this).prop("selectedIndex");
                  var toSet = selectedIndex - 1;
                  if(toSet == 0)
                        toSet = 12;
                  $("#newTo select[name='Tomonth'] option").eq(toSet).attr('selected', 'selected');
            });
            $("#newTo>select[name='Tomonth']").change(function(){
                  var selectedIndex = $(this).prop("selectedIndex");
                  var toSet = selectedIndex + 1;
                  if(toSet == 13)
                        toSet = 1;
                  $("#newFrom select[name='Frommonth'] option").eq(toSet).attr('selected', 'selected');
            });
            $("#newPeriodForm").validate({
                rules: {
                      effectiveYear: {required : true,
                                              number: true,
                                              range: [2012, 2025]
                                              },
                      Frommonth: {noneSelected: true},
                      Tomonth: {noneSelected: true}

                },
                messages: {
                      effectiveYear: {required: "! This field is required.",
                                              number: "Effective year should be a number",
                                              range: "Please enter a Year from 2012 to 2025"
                                              },
                      Frommonth: {noneSelected: "! This field is required"},
                      Tomonth: {noneSelected: "! This field is required"}
                }
          });
      });
});

function validateForm(){
      var checkBoxGroup =  new Array();
      checkBoxGroup[0] = "twittersm";
      checkBoxGroup[1] = "facebooksm";
      checkBoxGroup[2] = "othersm";
      checkBoxGroup[3] = "nonesm";
      if(!$("input[name='"+checkBoxGroup[0]+"']").is(':disabled')){
            var isChecked = false;
            for(var i=0; i<checkBoxGroup.length; i++ ){
                  if($("input[name='"+checkBoxGroup[i]+"']").is(":checked")){
                        isChecked = true;
                        break;
                  }
            }
            if(!isChecked){
                  if($(".errorMessages").length == 0){
                        $("<ul class='errorMessages'></ul>").insertBefore("#fb_divBl0ck1");
                  }
                  $(".errorMessages").html("");
                  $(".errorMessages").append("<li>Please select atleast one type of social media</li>");
                  return false;
            }
      }
      return true;
}

function checkAndDisplay(changedNode, isOnLoad){
      var elementChangedName = changedNode.attr("name");
      hideUnhide(changedNode, isOnLoad);
      if(elementChangedName == checkBoxNoneName ){
            if(changedNode.is(":checked")){
                  $.each(selectBoxNames, function(key) {
                              $("input[name="+selectBoxNames[key]+"]").attr("disabled", true);
                  });
            }else{
                  $.each(selectBoxNames, function(key) {
                        if(!isOnLoad)
                              $("input[name="+selectBoxNames[key]+"]").attr("disabled", false);
                  });
            }
      }
      if($.inArray(elementChangedName, selectBoxNames) != -1){
            var someChecked = false;
            $.each(selectBoxNames, function(key) { 
                  if($("input[name="+selectBoxNames[key]+"]").is(":checked")){
                        someChecked = true;
                  }
            });
            if(someChecked){
                  $("input[name="+checkBoxNoneName+"]").attr("disabled", true);
            }else{
            	if(!isOnLoad)
                  $("input[name="+checkBoxNoneName+"]").attr("disabled", false);
            }
      }
}

var coveredItem = new Array();
function hideUnhide(changedNode, isOnLoad){
	var elementChangedName = changedNode.attr("name");
	var ruleElts = rules[elementChangedName] ;
	if(ruleElts != null && typeof(ruleElts)!="undefined"){
		$.each(ruleElts, function(key) {
			ruleElt = ruleElts[key];
			if(ruleElt != null && typeof(ruleElt) != "undefined"){
				var requiredValue = ruleElt.value;
				var isArrayFlag = $.isArray(requiredValue);
				if((!isArrayFlag && requiredValue != "" && changedNode.val() ==  requiredValue) || (!isArrayFlag && requiredValue == "" && changedNode.is(":checked"))
						|| (isArrayFlag && $.inArray(changedNode.val(), requiredValue) >= 0)){
					$("div[name="+ruleElt.effName+"]").parent().show();
					if(!isOnLoad)
						$("div[name="+ruleElt.effName+"]").parent().find("input, select, textarea").attr("disabled", false);
					$("div[name="+ruleElt.effName+"]").parent().show().children().show();
				}else{
					if((isOnLoad && $.inArray(ruleElt.effName, coveredItem)>=0) || !isOnLoad){
						$("div[name="+ruleElt.effName+"]").parent().hide().find("input, select, textarea").each(function(){
							if($(this).get(0).nodeName.toLowerCase() == "input"){
								if($(this).attr("type").toLowerCase() == "radio" || $(this).attr("type").toLowerCase() == "checkbox"){
									$(this).attr('checked', false);
								}else if($(this).attr("type").toLowerCase() != "password"){
									$(this).val("");
								}
							}else if($(this).get(0).nodeName.toLowerCase() == "textarea"){
								$(this).html("");
							}else if($(this).get(0).nodeName.toLowerCase() == "select"){
								$(this).val(" ");
							}
							hideUnhide($(this), isOnLoad);
						}).attr("disabled", true);
					}
					if(isOnLoad && $.inArray(ruleElt.effName, coveredItem) == -1){
						coveredItem[coveredItem.length] = ruleElt.effName;
					}
				}
			}
		});
	}
}

jQuery.fn.compare = function(t) {
      if (this.length != t.length) { return false; }
      var a = this.sort(),
      b = t.sort();
      for (var i = 0; t[i]; i++) {
            if (a[i].name != b[i].name || a[i].value != b[i].value) { 
                  return false;
            }
      }
      return true;
};

function validateAddress(address1, city, state, zipcode) {
	var keySeparator = "k3yv@lu3S3p@r@t0r";
	pageGreyOut();
      jQuery.ajax({
            type : "POST",
            url : "/HHSPortal/AddressValidationServlet.jsp?address1="+escape(address1)+"&city="+escape(city)+"&state="+escape(state)+"&zipcode="+escape(zipcode),
            data : "",
            success : function(e) {
            	removePageGreyOut();
            	$("#addressDiv").empty();
                $("#addressDiv").html(e);
            	if(e.indexOf("byPassValidation")>-1){
					 var selectedRadio = $(".rdoBtn:checked")
						.parent().parent();
					  var valueToSet = returnSpace(selectedRadio.find("input[type='hidden'][name='StatusDescriptionText']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='StatusReason']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='StreetNumberText']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='newAddress']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='newCity']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='newState']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='newZip']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='CongressionalDistrictName']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='Latitude']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='Longitude']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='XCoordinate']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='YCoordinate']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='CommunityDistrict']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='CivilCourtDistrict']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='SchoolDistrictName']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='HealthArea']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='BuildingIdNumber']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='TaxBlock']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='TaxLot']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='SenatorialDistrict']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='AssemblyDistrict']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='CouncilDistrict']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='LowEndStreetNumber']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='HighEndStreetNumber']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='LowEndStreetName']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='HighEndStreetName']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='NYCBorough']").val());
					  $("#fb_divBl0ck1").closest('form')
	            		.append("<input type='hidden' id='addressRelatedData' name='addressRelatedData' value='"+valueToSet+"' />");
           		   submitForm(buttonName);
				}else {
                  $(".overlay").launchOverlay($(".alert-box-address"),$(".exit-panel"));
                  $(".alert-box-address").find('#selectaddress').click(function() {
                        var selectedRadio = $(".rdoBtn:checked").parent().parent();
                        $("input[name='Address1']").val(selectedRadio.find("input[type='hidden'][name='newAddress']").val());
                        $("input[name='city']").val(selectedRadio.find("input[type='hidden'][name='newCity']").val());
                        $("input[name='Zipcode']").val(selectedRadio.find("input[type='hidden'][name='newZip']").val());
                        $("select[name='state']>option[value='" + selectedRadio.find("input[type='hidden'][name='newState']").val() + "']").attr('selected', 'selected');
                        var valueToSet = returnSpace(selectedRadio.find("input[type='hidden'][name='StatusDescriptionText']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='StatusReason']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='StreetNumberText']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='newAddress']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='newCity']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='newState']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='newZip']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='CongressionalDistrictName']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='Latitude']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='Longitude']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='XCoordinate']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='YCoordinate']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='CommunityDistrict']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='CivilCourtDistrict']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='SchoolDistrictName']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='HealthArea']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='BuildingIdNumber']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='TaxBlock']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='TaxLot']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='SenatorialDistrict']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='AssemblyDistrict']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='CouncilDistrict']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='LowEndStreetNumber']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='HighEndStreetNumber']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='LowEndStreetName']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='HighEndStreetName']").val())
		            	+keySeparator+returnSpace(selectedRadio.find("input[type='hidden'][name='NYCBorough']").val());
                    	$("#fb_divBl0ck1").closest('form')
                		.append("<input type='hidden' id='addressRelatedData' name='addressRelatedData' value='"+valueToSet+"' />");
                        $(".overlay").closeOverlay();
                        submitForm(buttonName);
                        return false;
                  });
				}
            },
            beforeSend : function() { 
            }
      });
}
 function returnSpace(str){
	var strVal = " ";
	if(str!=null && str!=""){
		strVal=str;
	}
	return strVal;
 }